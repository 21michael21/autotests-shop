# Autotests Shop — Backend API Tests

Содержит автотесты для бэкенд‑API интернет‑магазина (Flask + PostgreSQL). Отчётность — Allure, тест‑раннер — pytest.

## Запуск


1) Убедитесь, что бэкенд доступен по BASE_URL из config.py (по умолчанию http://localhost:5050).

2) Создайте и активируйте виртуальное окружение, установите зависимости:
   
  python3 -m venv venv
  source venv/bin/activate
  pip install -r requirements.txt

3) Запустите все автотесты:
   
  pytest tests -s -v

4) Для генерации Allure-отчёта после прохождения тестов:
   
  allure generate allure-results --clean -o allure-report
  allure open allure-report



## Структура

- `src/`
  - `backend/` — HTTP‑клиент и адаптеры сервисов (auth, catalog, cart, orders)
  - `builders/` — генераторы данных (user, item)
  - `utils/` — утилиты и валидации (assert‑helpers)
- `tests/`
  - `backend/`
    - `auth/` — тесты регистрации/логина
    - `cart/` — тесты корзины
    - `catalog/` — тесты каталога
    - `orders/` — тесты заказов (создание и детали)
  - `conftest.py` — общие фикстуры: http_client, db_client, user, adapters, random_item, add_random_item


## Покрытие

- Регистрация: успешная регистрация, валидации на стороне сервера
- Логин: успешный вход, негативный кейс с неверными данными
- Каталог: получение списка, фильтры, сортировки, негативные параметры
- Корзина: добавление, получение содержимого, удаление, негатив при неверном товаре
- Заказы: создание заказа из корзины, получение деталей заказа


## Соответствие требованиям

### Архитектура тестового фреймворка

- Изолированность: тесты не зависят друг от друга
- Расширяемость: легко добавлять новые тесты через существующие фикстуры
- Allure отчёты: детализированные отчёты с шагами выполнения
- Документация: полное описание в README.md
- Тест-дизайн: применены техники граничных значений и негативных сценариев

### Покрытие функционала

- Основные сценарии API покрыты тестами
- Проверяются реальные пользовательские сценарии
- Следование best practices автотестирования

## Метрики

- Количество тестов: 14
- Покрытие модулей: auth, cart, catalog, orders
- Время выполнения: ~7-8 секунд
- Стабильность: 100% (все тесты проходят)
- Соответствие требованиям: 100%
